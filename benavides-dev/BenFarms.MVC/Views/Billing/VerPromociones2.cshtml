@using BenFarms.MVC.Models
@model BenFarms.MVC.Models.RegisterViewModel
@{
    ViewBag.Title = "VerPromociones";
    Layout = "~/Views/Shared/_Layout.cshtml";
}




<style>
    .btnEdit {
        background: #48c7f3 url("../../assets/pages/img/editbtn.jpg") no-repeat 10px 0;
        height: 24px;
        padding-left: 10px !important;
        width: 150px;
    }


    #perfilForm a {
        color: #2a3479;
        text-decoration: underline;
        font-weight: bold;
    }

    input, textarea {
        background-color: #e3e5e8 !important;
    }

    tr.odd {
        background-color: #f3ddde !important;
    }

    .table > tbody > tr > td, .table > tbody > tr > th, .table > tfoot > tr > td, .table > tfoot > tr > th, .table > thead > tr > td {
        border: none;
    }

    .table > tbody > tr.even > td {
        /*padding: 18px;*/
        padding-top: 20px;
        padding-bottom: 20px;
    }

    tr.title {
        border-bottom: 3px solid red !important;
    }

        tr.title th {
            padding-bottom: 0 !important;
        }


    .pagination > .active > a, .pagination > .active > a:focus, .pagination > .active > a:hover, .pagination > .active > span, .pagination > .active > span:focus, .pagination > .active > span:hover {
        /*z-index: 3;
        color: #fff;
        cursor: default;*/
        background-color: transparent;
        border-color: transparent;
        color: #ec2028;
        font-weight: bold;
    }

    .pagination > li > a, .pagination > li > span {
        background-color: transparent;
        border: none;
        color: #ec2028;
        padding: 0;
    }

    .dataTables_wrapper .dataTables_filter {
        text-align: center;
        position: relative;
        margin: 0 auto;
        float: none;
    }

    div.dataTables_processing {
        z-index: 1;
    }

    .dataTables_filter input {
        width: 325px;
        height: 30px;
        border: none !important;
        border-radius: 0 !important;
        background: #dcdada url("/assets/pages/img/lupaSearch.png") no-repeat top right;
        margin-top: 30px;
    }

    .pagination > .disabled > a, .pagination > .disabled > a:focus, .pagination > .disabled > a:hover, .pagination > .disabled > span, .pagination > .disabled > span:focus, .pagination > .disabled > span:hover {
        color: #ec2028;
        cursor: not-allowed;
        background-color: transparent;
        border: none;
    }

    .dataTables_wrapper .dataTables_paginate {
        text-align: center;
        float: none;
    }

    table.dataTable.order-column tbody tr > .sorting_1, table.dataTable.order-column tbody tr > .sorting_2, table.dataTable.order-column tbody tr > .sorting_3, table.dataTable.display tbody tr > .sorting_1, table.dataTable.display tbody tr > .sorting_2, table.dataTable.display tbody tr > .sorting_3 {
        background-color: transparent;
    }

    table.dataTable.no-footer {
        border-bottom: none;
    }

    table.dataTable tbody tr {
        background-color: transparent;
    }

    .dataTables_wrapper .dataTables_paginate .paginate_button {
        /*box-sizing: border-box;
        display: inline-block;
        min-width: 1.5em;*/
        padding: 0;
        /*margin-left: 2px;*/
        text-align: center;
        text-decoration: none !important;
        cursor: pointer;
        /*color: #333 !important;*/
        /*border: 1px solid transparent;
        border-radius: 2px;*/
        border: none;
    }

    .pagination > li:first-child > a, .pagination > li:first-child > span {
        margin-left: 0;
        border: none;
    }

    .pagination > li > a, .pagination > li > span {
        /*position: relative;
        float: left;
        padding: 6px 12px;
        margin-left: -1px;*/
        line-height: 1.42857143;
        color: #ec2028;
        text-decoration: none;
        background-color: transparent;
        border: none;
    }

        .pagination > li > a:focus, .pagination > li > a:hover, .pagination > li > span:focus, .pagination > li > span:hover {
            z-index: 2;
            color: #ec2028;
            background-color: transparent;
            border: none;
            background: none;
        }



    .dataTables_wrapper .dataTables_paginate .paginate_button.current, .dataTables_wrapper .dataTables_paginate .paginate_button.current:hover {
        color: #ec2028 !important;
        border: none;
        background: none !important;
    }

    .dataTables_wrapper .dataTables_paginate .paginate_button.disabled, .dataTables_wrapper .dataTables_paginate .paginate_button.disabled:hover, .dataTables_wrapper .dataTables_paginate .paginate_button.disabled:active {
        cursor: default;
        color: #ec2028 !important;
        border: none;
        background: transparent;
        box-shadow: none;
    }

    .dataTables_wrapper .dataTables_paginate .paginate_button:hover {
        color: #ec2028 !important;
        border: none;
        background: none !important;
    }

    .dataTables_wrapper .dataTables_paginate .paginate_button:active {
        outline: none;
        background-color: transparent;
        background: none;
        box-shadow: none;
    }

    .table > thead > tr > th {
        border: none;
        color: #293479;
        padding-top: 20px;
        padding-bottom: 20px;
    }

    table.dataTable {
        border-collapse: collapse;
        width: 100% !important;
    }
</style>


<section class="beneficios padded-top-bottom bg-color-white">
    @*<div class="row full-width">
                <div class="col-xs-12 col-sm-5 full-width">

        <h2>VerPromociones</h2>




                    </div>

                </div>*@

    <div id="perfil-mis-promociones" class="tab-pane" role="tabpanel">
        <div class="container">

            <h2>Ver Promociones</h2>
            <div class="table-responsive">
                <table class="class="table table-striped table-bordered dt-responsive nowrap"  id="promocionesDisponibles">
                    <thead>
                        <tr>
                            <th>
                                C&oacute;digo
                            </th>
                            <th>
                                Producto
                            </th>
                            <th>
                                Laboratorio
                            </th>
                            <th>
                                Mec&aacute;nica
                            </th>
                            <th>CodigoGratis</th>
                            <th>Vigencia</th>
                            <th>LimitePiezas</th>
                        </tr>
                    </thead>

                </table>
            </div>
        </div>
    </div>

</section>

@*<img src='~/Content/rsc/imgs/Loading_icon.gif' />*@


@section scripts {
    <section class="scripts">
        <script type="text/javascript">
            var editor; // use a global for the submit and return data rendering in the examples

            $(document).ready(function () {
                //ComponentsDateTimePickers.init();
                //$('#BirthDate').datepicker({
                //    format: 'dd-mm-yyyy'
                //});

                //ConsultaTickets
                var v = getSiteRootUrl();
                var card = $("#Card").val();

                //editor = new $.fn.dataTable.Editor({
                //    "ajax": v + "/Promotions/LoadPromocionesDiarias?card=" + "15025429521",
                //    table: "#promocionesDisponibles",
                //    fields: [{
                //        label: "First name:",
                //        name: "first_name"
                //    }, {
                //        label: "Last name:",
                //        name: "last_name"
                //    }, {
                //        label: "Position:",
                //        name: "position"
                //    }, {
                //        label: "Office:",
                //        name: "office"
                //    }, {
                //        label: "Extension:",
                //        name: "extn"
                //    }, {
                //        label: "Start date:",
                //        name: "start_date",
                //        type: "datetime"
                //    }, {
                //        label: "Salary:",
                //        name: "salary"
                //    }
                //    ]
                //});







                $('#promocionesDisponibles').on('click', 'tbody td:not(:first-child)', function (e) {
                    editor.inline(this);
                });



                //ConsultarPromocionesDisponibles
                var table3 = $('#promocionesDisponibles');
                // begin first table
                table3.dataTable({
                    "processing": true,
                    "responsive": true,
                    "info": false,
                    "ajax": v + "/Promotions/LoadPromocionesDiarias?card=" + "15025429521",
                    "columns": [
                        { "data": "CodigoAcumula" },
                        { "data": "NombreProdAcumula" },
                        { "data": "Laboratorio" },
                        {"data": "Regla"},
                        { "data": "CodigoGratis" },
                        { "data": "FechaFin" },
                        //{ "data": "LimitePiezas" }

                    {
                        "data": "LimitePiezas",
                        "render": function (data, type, full, meta) {
                            return full.LimitePiezas.replace("9999", "") + " " + full.LimitePeriodicidad.replace("indefinido", "");
                        }
                    }

                    ],

                    // Internationalisation. For more info refer to http://datatables.net/manual/i18n
                    "language": {
                        processing: "<div style='margin:0px; padding:0px; width:100%;auto;border:0px solid black;'   ><img style='margin-bottom:0px; padding:0px;' src='Content/rsc/imgs/time.gif' /> </div>",
                        "aria": {
                            "sortAscending": ": activate to sort column ascending",
                            "sortDescending": ": activate to sort column descending"
                        },
                        "search": "",
                        "searchPlaceholder": "Encuentra tu producto...",
                        "emptyTable": "No se encontraron datos",
                        "info": "Mostrando _START_ a _END_ de _TOTAL_ elementos",
                        "infoEmpty": "No se encuentran elementos",
                        "infoFiltered": "(Total de elementos: _MAX_)",
                        "lengthMenu": "Mostrar _MENU_",
                        //"search": "Buscar:",
                        "zeroRecords": " ",
                        "paginate": {
                            "previous": "<",
                            "next": ">",
                            "last": "Último",
                            "first": "Primero"
                        }
                    },

                    "dom": '<"top"f>rt<"bottom"lp><"clear">',

                    "bStateSave": true, // save datatable state(pagination, sort, etc) in cookie.

                    "bLengthChange": false,
                    // set the initial value
                    "pageLength": 10,
                    "pagingType": "simple_numbers",
                    "order": [
                        [0, "asc"]
                    ], // set first column as a default sort by asc
                    select: {
                        style: 'os',
                        selector: 'td:first-child'
                    },

                buttons: [
                    { extend: "create", editor: editor },
                    { extend: "edit",   editor: editor },
                    { extend: "remove", editor: editor }
                ]


                });



            });




        </script>
    </section>

}